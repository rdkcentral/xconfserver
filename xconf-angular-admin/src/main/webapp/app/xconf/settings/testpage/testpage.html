<!--
*
* If not stated otherwise in this file or this component's Licenses.txt file the
* following copyright and licenses apply:
*
* Copyright 2018 RDK Management
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
-->
<div class="container">
    <h1 class="page-header">Test page</h1>
    <div>
        <form class="col-md-5">
            <h3>Input:</h3>

            <editable-map parameters="vm.parameters"
                          auto-complete-values="vm.autoCompleteValues" quick-add="vm.quickAddValues"></editable-map>
            <br />

            <div class="input-group-btn">
                <dropdown-multiselect
                        id="multiselectSettingTypeId"
                        model="vm.selectedTypes"
                        options="vm.settingsType"
                        value-property="value"
                        label-property="name"
                        button-text="{{vm.selectedTypes.length ? vm.selectedTypes.join() : 'Setting Type'}}">
                </dropdown-multiselect>
            </div>
            <br />

            <div class="row form-group">
                <div class="col-md-offset-9 col-md-3">
                    <button id="testButton" class="btn btn-primary" ng-click="vm.matchRules()">Test</button>
                </div>
            </div>
        </form>

        <div class="col-md-7">
            <div ng-if="vm.context">
                <div class="form-group" style="font-size: 1.5em;">Context</div>
                <div class="alert alert-info break-word">
                    {{vm.context}}
                </div>
            </div>
            <div ng-show="vm.profiles.length">
                <div class="form-group" style="font-size: 1.5em;">Profiles</div>
                <div class="alert alert-info break-word">
                    {{vm.profiles}}
                </div>
            </div>
            <div class="form-group">
                <span style="font-size: 1.5em;">Matched rules:</span>
                <div class="matched-rules" ng-if="vm.matchedRules.length">
                    <div class="row" ng-repeat="value in vm.matchedRules">
                        <div class="col-md-6">
                            <span>Name: {{value.name}}</span>
                        </div>
                        <div class="col-md-6">
                            <ruleview-directive class="pull-right" data="value.rule"></ruleview-directive>
                        </div>
                    </div>
                </div>
                <div id="noMatchedRules" class="alert alert-info xconf-alert-center" ng-if="!vm.matchedRules.length">
                    <span>Nothing to show</span>
                </div>
            </div>
        </div>
    </div>
</div>