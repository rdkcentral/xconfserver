/*******************************************************************************
 * If not stated otherwise in this file or this component's Licenses.txt file the
 * following copyright and licenses apply:
 *
 * Copyright 2018 RDK Management
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *******************************************************************************/
package com.comcast.xconf.estbfirmware;

import com.comcast.apps.hesperius.ruleengine.domain.additional.data.IpAddress;
import com.comcast.apps.hesperius.ruleengine.domain.additional.data.IpAddressGroup;
import org.junit.Test;

import java.util.Date;
import java.util.Random;

/**
 * Provides . . .
 * <p/>
 * john.stein@versatile.com 5/30/13
 */
public class IpRangeSpotTest {

    @Test
    public void bar() {
        IpAddressGroup grp = new IpAddressGroup();
        Random r = new Random();
        for (int i = 0; i < 100000L; i++) {
            grp.getIpAddresses().add(new IpAddress(r.nextInt(256) + "." + r.nextInt(256) + "." + r.nextInt(256) + "." + r.nextInt(256)));
        }
        //System.out.println(grp.getIpAddresses().size());
//        System.out.println(grp);
        long start = System.currentTimeMillis();
        System.out.println(grp.isInRange("24.15.141.32"));
        long stop = System.currentTimeMillis();
        System.out.println(stop - start);
    }

    @Test
    public void foo() {
         String ipAddresses = "67.175.16.0/24\n" +
                 "67.173.68.0/23\n" +
                 "67.173.68.1/23\n" +
                 "67.173.68.2/23\n" +
                 "67.173.68.4/23\n" +
                 "67.173.68.5/23\n" +
                 "67.173.68.6/23\n" +
                 "67.173.68.7/23\n" +
                 "67.173.68.8/23\n" +
                 "67.173.68.9/23\n" +
                 "24.7.248.0/23\n" +
                 "50.151.162.0/24\n" +
                 "50.151.51.0/24\n" +
                 "50.158.210.0/24\n" +
                 "71.201.14.0/23\n" +
                 "67.173.64.0/22\n" +
                 "50.158.227.0/24\n" +
                 "98.214.240.0/22\n" +
                 "98.215.128.0/20\n" +
                 "24.14.152.0/22\n" +
                 "71.194.112.0/23\n" +
                 "98.206.188.0/22\n" +
                 "24.1.204.0/23\n" +
                 "50.158.76.0/24\n" +
                 "71.194.48.0/22\n" +
                 "69.243.154.0/23\n" +
                 "24.15.50.0/23\n" +
                 "98.215.174.0/23\n" +
                 "98.213.224.0/23\n" +
                 "76.23.70.0/23\n" +
                 "98.226.24.0/22\n" +
                 "98.227.81.0/24\n" +
                 "98.220.116.0/24\n" +
                 "67.184.168.0/21\n" +
                 "67.176.168.0/23\n" +
                 "71.239.176.0/21\n" +
                 "98.193.80.0/23\n" +
                 "67.176.240.0/22\n" +
                 "24.12.160.0/22\n" +
                 "67.176.142.0/23\n" +
                 "98.193.78.0/23\n" +
                 "50.141.182.0/24\n" +
                 "98.215.168.0/22\n" +
                 "76.23.80.0/23\n" +
                 "98.206.80.0/21\n" +
                 "67.173.172.0/22\n" +
                 "24.1.200.0/23\n" +
                 "67.176.226.0/23\n" +
                 "67.175.138.0/23\n" +
                 "98.206.216.0/22\n" +
                 "24.1.196.0/22\n" +
                 "98.206.244.0/22\n" +
                 "50.151.36.0/24\n" +
                 "50.141.170.0/24\n" +
                 "98.214.208.0/20\n" +
                 "98.213.168.0/21\n" +
                 "50.140.159.0/24\n" +
                 "71.239.54.0/23\n" +
                 "50.158.150.0/24\n" +
                 "98.214.112.0/20\n" +
                 "98.213.226.0/23\n" +
                 "71.239.64.0/21\n" +
                 "98.215.232.0/21\n" +
                 "50.158.170.0/24\n" +
                 "50.140.142.0/24\n" +
                 "98.214.224.0/20\n" +
                 "98.227.88.0/23\n" +
                 "98.212.114.0/23\n" +
                 "67.175.236.0/23\n" +
                 "98.213.240.0/20\n" +
                 "24.15.116.0/22\n" +
                 "50.158.123.0/24\n" +
                 "24.11.226.0/23\n" +
                 "98.253.112.0/21\n" +
                 "67.173.148.0/23\n" +
                 "50.141.172.0/23\n" +
                 "68.51.86.0/24\n" +
                 "71.201.154.0/23\n" +
                 "71.57.16.0/22\n" +
                 "71.57.64.0/23\n" +
                 "24.14.240.0/20\n" +
                 "50.141.255.0/24\n" +
                 "50.141.246.0/23\n" +
                 "69.245.192.0/22\n" +
                 "50.158.144.0/24\n" +
                 "67.176.232.0/22\n" +
                 "50.158.130.0/24\n" +
                 "50.129.150.0/23\n" +
                 "71.194.218.0/23\n" +
                 "50.158.34.0/24\n" +
                 "98.206.224.0/23\n" +
                 "50.158.84.0/24\n" +
                 "67.163.4.0/23\n" +
                 "98.215.64.0/21\n" +
                 "98.220.20.0/22\n" +
                 "98.213.176.0/22\n" +
                 "24.1.38.0/23\n" +
                 "24.14.100.0/23\n" +
                 "98.226.96.0/20\n" +
                 "50.151.139.0/24\n" +
                 "24.15.199.0/24\n" +
                 "98.214.32.0/20\n" +
                 "67.162.70.0/23\n" +
                 "50.158.32.0/24\n" +
                 "71.194.58.0/23\n" +
                 "98.206.16.0/22\n" +
                 "50.151.207.0/24\n" +
                 "50.151.21.0/24\n" +
                 "71.194.33.0/24\n" +
                 "50.140.164.0/24\n" +
                 "71.228.42.0/23\n" +
                 "24.1.96.0/23\n" +
                 "69.245.184.0/22\n" +
                 "67.186.126.0/23\n" +
                 "50.141.249.0/24\n" +
                 "98.222.120.0/24\n" +
                 "76.29.88.0/21\n" +
                 "69.245.136.0/23\n" +
                 "67.162.89.0/24\n" +
                 "50.129.130.0/24\n" +
                 "67.175.24.0/22\n" +
                 "98.226.153.0/24\n" +
                 "67.186.68.0/23\n" +
                 "24.15.128.0/20\n" +
                 "67.167.252.0/24\n" +
                 "24.14.236.0/22\n" +
                 "68.58.60.0/22\n" +
                 "67.167.92.0/22\n" +
                 "24.12.89.0/24\n" +
                 "50.151.75.0/24\n" +
                 "98.212.212.0/23\n" +
                 "50.158.132.0/24\n" +
                 "69.245.232.0/23\n" +
                 "50.151.121.0/24\n" +
                 "67.175.172.0/22\n" +
                 "67.162.54.0/23\n" +
                 "50.158.156.0/24\n" +
                 "68.58.70.0/23\n" +
                 "24.1.48.0/21\n" +
                 "68.57.248.0/22\n" +
                 "50.151.50.0/24\n" +
                 "98.215.40.0/21\n" +
                 "98.223.224.0/24\n" +
                 "71.57.114.0/23\n" +
                 "24.12.198.0/23\n" +
                 "50.158.55.0/24\n" +
                 "71.194.250.0/23\n" +
                 "67.175.74.0/23\n" +
                 "50.158.27.0/24\n" +
                 "24.7.246.0/23\n" +
                 "50.140.150.0/23\n" +
                 "50.158.9.0/24\n" +
                 "24.12.116.0/23\n" +
                 "50.165.3.0/24\n" +
                 "67.184.104.0/21\n" +
                 "98.214.12.0/22\n" +
                 "50.151.41.0/24\n" +
                 "98.212.50.0/23\n" +
                 "98.212.192.0/20\n" +
                 "50.158.64.0/24\n" +
                 "50.151.88.0/23\n" +
                 "24.12.84.0/22\n" +
                 "67.163.72.0/24\n" +
                 "50.158.240.0/24\n" +
                 "98.222.0.0/20\n" +
                 "71.201.168.0/21\n" +
                 "98.228.142.0/23\n" +
                 "98.212.32.0/23\n" +
                 "67.173.16.0/23\n" +
                 "76.16.114.0/23\n" +
                 "71.239.142.0/23\n" +
                 "24.15.36.0/22\n" +
                 "71.228.58.0/23\n" +
                 "67.175.218.0/23\n" +
                 "98.215.228.0/22\n" +
                 "98.253.23.0/24\n" +
                 "98.222.244.0/22\n" +
                 "67.175.124.0/22\n" +
                 "50.140.161.0/24\n" +
                 "68.58.46.0/23\n" +
                 "76.29.124.0/22\n" +
                 "50.158.136.0/24\n" +
                 "24.1.220.0/22\n" +
                 "67.163.16.0/23\n" +
                 "76.29.104.0/23\n" +
                 "98.213.110.0/23\n" +
                 "24.12.92.0/22\n" +
                 "67.176.238.0/23\n" +
                 "98.227.232.0/22\n" +
                 "71.201.98.0/23\n" +
                 "98.206.22.0/23\n" +
                 "50.151.246.0/24\n" +
                 "98.253.104.0/21\n" +
                 "71.239.12.0/22\n" +
                 "98.213.8.0/22\n" +
                 "50.141.240.0/24\n" +
                 "98.193.8.0/21\n" +
                 "50.158.68.0/22\n" +
                 "50.158.78.0/23\n" +
                 "98.193.32.0/23\n" +
                 "50.151.10.0/24\n" +
                 "50.151.143.0/24\n" +
                 "98.212.46.0/23\n" +
                 "67.184.88.0/21\n" +
                 "24.12.124.0/23\n" +
                 "98.228.76.0/22\n" +
                 "50.129.207.0/24\n" +
                 "98.214.0.0/21\n" +
                 "98.228.69.0/24\n" +
                 "98.213.104.0/23\n" +
                 "98.222.64.0/22\n" +
                 "24.1.8.0/24\n" +
                 "50.158.52.0/24\n" +
                 "76.23.68.0/24\n" +
                 "71.239.32.0/21\n" +
                 "67.163.90.0/23\n" +
                 "50.129.112.0/23\n" +
                 "24.12.196.0/23\n" +
                 "98.206.196.0/22\n" +
                 "67.175.76.0/23\n" +
                 "98.206.168.0/21\n" +
                 "67.186.92.0/23\n" +
                 "67.165.172.0/24\n" +
                 "98.212.136.0/23\n" +
                 "71.201.134.0/23\n" +
                 "98.206.176.0/22\n" +
                 "98.228.176.0/20\n" +
                 "98.253.126.0/23\n" +
                 "98.215.36.0/23\n" +
                 "50.158.62.0/24\n" +
                 "50.158.126.0/24\n" +
                 "67.173.90.0/23\n" +
                 "98.227.218.0/23\n" +
                 "50.129.62.0/23\n" +
                 "98.213.108.0/24\n" +
                 "50.148.86.0/24\n" +
                 "98.220.112.0/24\n" +
                 "98.226.188.0/22\n" +
                 "98.253.120.0/22\n" +
                 "67.176.140.0/23\n" +
                 "76.16.112.0/23\n" +
                 "67.176.166.0/23\n" +
                 "98.222.72.0/21\n" +
                 "67.175.36.0/22\n" +
                 "98.227.141.0/24\n" +
                 "98.212.138.0/24\n" +
                 "50.148.25.0/24\n" +
                 "98.212.216.0/22\n" +
                 "67.162.28.0/23\n" +
                 "98.226.198.0/23\n" +
                 "69.246.240.0/23\n" +
                 "24.11.238.0/23\n" +
                 "24.14.196.0/23\n" +
                 "24.1.138.0/23\n" +
                 "67.175.96.0/21\n" +
                 "98.215.13.0/24\n" +
                 "68.57.200.0/22\n" +
                 "98.213.80.0/21\n" +
                 "50.140.167.0/24\n" +
                 "67.173.182.0/23\n" +
                 "98.227.36.0/23\n" +
                 "71.201.8.0/23\n" +
                 "67.173.124.0/22\n" +
                 "67.163.74.0/23\n" +
                 "76.16.168.0/22\n" +
                 "67.163.94.0/23\n" +
                 "76.29.112.0/21\n" +
                 "98.253.212.0/24\n" +
                 "67.162.43.0/24\n" +
                 "50.151.31.0/24\n" +
                 "71.229.70.0/23\n" +
                 "50.129.72.0/23\n" +
                 "98.253.16.0/22\n" +
                 "71.194.54.0/23\n" +
                 "98.227.86.0/23\n" +
                 "71.201.48.0/23\n" +
                 "24.14.176.0/23\n" +
                 "50.129.92.0/23\n" +
                 "98.222.115.0/24\n" +
                 "50.148.78.0/24\n" +
                 "71.228.20.0/23\n" +
                 "71.194.226.0/23\n" +
                 "71.194.52.0/23\n" +
                 "67.176.152.0/23\n" +
                 "71.239.247.0/24\n" +
                 "71.194.104.0/23\n" +
                 "67.186.112.0/23\n" +
                 "50.158.35.0/24\n" +
                 "98.206.88.0/21\n" +
                 "98.215.14.0/23\n" +
                 "71.229.80.0/20\n" +
                 "98.215.176.0/21\n" +
                 "67.167.88.0/22\n" +
                 "50.141.194.0/24\n" +
                 "67.167.84.0/22\n";
        IpAddressGroup grp = new IpAddressGroup();
        String[] as = ipAddresses.split("\\s+");
        if (as != null) {
            for (String a : as) {
                grp.getIpAddresses().add(new IpAddress(a));
            }
        }
        System.out.println(grp.getIpAddresses().size());
        System.out.println(grp);
        System.out.println(grp.isInRange("24.15.141.32"));
    }
}
