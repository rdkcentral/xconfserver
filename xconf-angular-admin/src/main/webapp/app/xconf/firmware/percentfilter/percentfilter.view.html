<!--
*
* If not stated otherwise in this file or this component's Licenses.txt file the
* following copyright and licenses apply:
*
* Copyright 2018 RDK Management
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
-->
<div class="modal-header">
    <h3 class="modal-title">
        <span>View Percentage Bean</span>
        <button class="btn btn-danger ads-btn-clipboard-top-right ads-btn-symbol" title="Close" ng-click="vm.dismiss()">
            <span>&times;</span>
        </button>
    </h3>
</div>
<div class="modal-body">
    <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon">Name</span>
                    <input type="text" id="envModelRuleName" class="form-control" ng-model="vm.percentageBean.name" readonly/>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon">Environment</span>
                    <input type="text" id="environment" class="form-control" ng-model="vm.percentageBean.environment" readonly/>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon">Model</span>
                    <input type="text" id="model" class="form-control" ng-model="vm.percentageBean.model" readonly/>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon">Whitelist</span>
                    <input type="text" class="form-control" id="envModelRuleWhitelist" ng-model="vm.percentageBean.whitelist" readonly/>
                </div>
            </div>
            <label ng-if="vm.percentageBean.optionalConditions">Optional conditions</label>
            <div class="form-group" ng-if="vm.percentageBean.optionalConditions">
                <ruleview-directive data="vm.percentageBean.optionalConditions"></ruleview-directive>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon">Use Account Id Percentage</span>
                    <input type="text" class="form-control" id="useAccountIdPercentage" ng-model="vm.percentageBean.useAccountIdPercentage" readonly/>
                </div>
            </div>
            <label ng-show="vm.percentageBean.distributions && vm.percentageBean.distributions.length > 0">Distributions</label>
            <div class="form-group" ng-repeat="distribution in vm.percentageBean.distributions">
                <div class="input-group">
                    <span class="input-group-addon" ng-bind="vm.firmwareConfigMap[distribution.configId].firmwareVersion"></span>
                    <input class="form-control" ng-model="distribution.startPercentRange" readonly/>
                    <span class="input-group-addon">%</span>
                    <input class="form-control" ng-model="distribution.endPercentRange" readonly/>
                    <span class="input-group-addon">%</span>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon">Last known good</span>
                    <input type="text" class="form-control" id="lastKnownGood" ng-model="vm.firmwareConfigMap[vm.percentageBean.lastKnownGood].firmwareVersion" readonly/>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon">Is active</span>
                    <input type="text" class="form-control" id="isEnvModelRuleActive" ng-model="vm.percentageBean.active" readonly/>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon">Minimum Firmware Check Required?</span>
                    <input type="text" class="form-control" id="isEnvModelRuleFirmwareCheckRequired" ng-model="vm.percentageBean.firmwareCheckRequired" readonly/>
                </div>
            </div>
            <div ng-show="vm.percentageBean.firmwareCheckRequired">
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">Reboot Immediately</span>
                        <input type="text" class="form-control" id="isEnvModelRuleRebootImmediately" ng-model="vm.percentageBean.rebootImmediately" readonly/>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">Firmware Versions</div>
                    <div class="panel-body">
                    <div class="row" ng-show="vm.firmwareVersions['existedVersions'].length > 0">
                        <div class="col-md-12" >
                            <ul class="xconf-list" id="firmwareVersionList">
                                <li class="ads-list-item ads-list-item-horizontal xconf-list-item xconf-list-item-grey edit-list checked-in-list"
                                    ng-repeat="firmwareVersion in vm.firmwareVersions['existedVersions']"
                                    ng-bind="firmwareVersion"></li>
                            </ul>
                        </div>
                    </div>

                    <div class="row" ng-show="vm.firmwareVersions['notExistedVersions'] && vm.firmwareVersions['notExistedVersions'].length > 0">
                        <div class="col-md-12">
                            <label>Versions without reference on any Firmware Config:</label>
                            <ul class="xconf-list">
                                <li class="ads-list-item ads-list-item-horizontal xconf-list-item xconf-list-item-grey edit-list missing-in-list"
                                    ng-repeat="firmwareVersion in vm.firmwareVersions['notExistedVersions']"
                                    ng-bind="firmwareVersion"></li>
                            </ul>
                        </div>
                    </div>
                </div></div></div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">Intermediate Version</span>
                        <input type="text" class="form-control" id="intermediateVersion" ng-model="vm.firmwareConfigMap[vm.percentageBean.intermediateVersion].firmwareVersion" readonly/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>